{
  "name": "go-music",
  "scripts": {
    "clean": "rm -rf build/",
    "finished": "echo -e '\n――― Backend build finished! ―――\n'",
    "make_runtime_dirs": "mkdir -p build/runtime/{config,data}",
    "copy_frontend": "cp -r frontend/build build/frontend",
    "generate_schema": "echo -e 'Generating schema.gql file.' && node build/go-music --gen-schema",
    "build:dev": "webpack --config webpack.dev.js && npm run --silent make_runtime_dirs && npm run --silent finished",
    "build:prod": "webpack --config webpack.prod.js && npm run --silent make_runtime_dirs && npm run --silent finished",
    "build:release": "webpack --config webpack.prod.js --env.release && npm run --silent copy_frontend && npm run --silent finished",
    "build": "func() { [ -z \"$1\" ] && mode='dev' || mode=\"$1\"; npm run --silent clean && npm run --silent build:back \"$mode\" && npm run --silent generate_schema && npm run --silent build:front \"$mode\"; }; func",
    "build:front": "func() { [ -z \"$1\" ] && mode='dev' || mode=\"$1\"; npm run --silent --prefix 'frontend/' build \"$mode\"; }; func",
    "build:back": "func() { [ -z \"$1\" ] && mode='dev' || mode=\"$1\"; npm run --silent clean && npm run --silent build:\"$mode\"; }; func",
    "start": "node build/go-music",
    "start:devServer": "echo 'Starting frontend development server:' && npm run --prefix frontend/ start",
    "start:apiOnly": "echo -e 'Starting backend server (API only):\n' && node build/go-music --api-only"
  },
  "devDependencies": {
    "@types/cookie-parser": "^1.4.2",
    "@typescript-eslint/eslint-plugin": "^2.28.0",
    "@typescript-eslint/parser": "^2.28.0",
    "apollo": "^2.27.4",
    "copy-webpack-plugin": "^5.1.1",
    "eslint": "^6.8.0",
    "eslint-loader": "^3.0.4",
    "raw-loader": "^4.0.0",
    "ts-loader": "^6.2.2",
    "typegraphql-description-loader": "^1.1.0",
    "typescript": "^3.8.3",
    "webpack": "^4.42.1",
    "webpack-cli": "^3.3.11",
    "webpack-merge": "^4.2.2",
    "webpack-node-externals": "^1.7.2",
    "webpack-shell-plugin": "^0.5.0"
  },
  "dependencies": {
    "@iarna/toml": "^2.2.3",
    "@types/better-sqlite3": "^5.4.0",
    "@types/express": "^4.17.6",
    "@types/graphql": "^14.5.0",
    "@types/he": "^1.1.1",
    "@types/iarna__toml": "^2.0.0",
    "@types/minimist": "^1.2.0",
    "@types/node": "^13.13.5",
    "apollo-server-express": "^2.15.0",
    "better-sqlite3": "^7.0.1",
    "cookie-parser": "^1.4.5",
    "express": "^4.17.1",
    "graphql": "^15.0.0",
    "minimist": "^1.2.5",
    "reflect-metadata": "^0.1.13",
    "strip-indent": "^3.0.0",
    "type-graphql": "^1.0.0-rc.1",
    "typedi": "^0.8.0",
    "xdg-basedir": "^4.0.0"
  }
}
